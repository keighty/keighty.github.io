
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>annotating java - keighty</title>
	<meta name="author" content="katie leonard">

	
	<meta name="description" content="Annotating Java Annotations are a means of adding metadata to Java source code. They can be applied to declarations of classes, fields, methods, and &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="keighty" type="application/atom+xml">
	
	<link rel="canonical" href="http://www.katieleonard.ca/blog/2017/annotating-java/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41587719-1', 'auto');
  ga('send', 'pageview');

</script>



</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("keighty.leonard@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects/index.html">Projects</a></li>
  <li><a href="/reads/index.html">Reads</a></li>
  <li><a href="/more-about-keighty/index.html">More about keighty</a></li>
</ul>


<section class="aboutme">
  <p>
    I have loved programming since my first 'Hello World!', and have been seeking source code enlightenment through Ruby, Rails, and JavaScript.
  </p>
</section>
</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:keighty.leonard@gmail.com" title="Email">Email</a>
		
		
		
		
			<a class="twitter" href="http://twitter.com/KeightyLeonard" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/keighty" title="GitHub">GitHub</a>
		
		
			<a class="coderwall" href="https://coderwall.com/keighty" title="Coderwall">Coderwall</a>
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>
			</div>

			<aside class="sidebar-custom">
			  
			    <section>
  <div>
    <h1>Check out my book!</h1>
    <a href="http://codeschoolbook.com" target="_blank"><img src="/images/code_school_book.png"></a>
  </div>
</section>
			  
			</aside>

		</div>
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Annotating Java</h1>
	<div class="entry-content" itemprop="articleBody"><p>Annotations are a means of adding metadata to Java source code. They can be applied to declarations of classes, fields, methods, and types (as of Java8) in order to pass instructions to the compiler. Annotations can even be evaluated at Runtime.  <!--more-->For example, <code>@Inject</code> is an annotation from the Dagger dependency injection library used to indicate which constructor should be used to instantiate a class. <code>@Inject</code> also tells Dagger to create the dependencies identified in the constructor parameter list.</p>

<h4>Provided by <code>java.lang</code></h4>

<ul>
<li><code>@Deprecated</code>: don&rsquo;t use the marked object. This annotation should be accompanied by a comment explaining the reason and alternative.</li>
<li><code>@Override</code>: this method overrides a superclass method.</li>
<li><code>@SuppressWarnings</code>: the compiler will not report warnings generated by this method.</li>
</ul>


<h2>Create your own</h2>

<p>Annotations can be used to replace verbose code comment templates, and since they are ostensibly interfaces, they can be created the same way you would any other interface.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// src/CustomAnnotation.java</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.lang.annotation.Documented</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@Documented</span> <span class="c1">// Annotation of an Annotation -- so meta! [1]</span>
</span><span class='line'><span class="nd">@interface</span> <span class="n">CustomAnnotation</span> <span class="o">{</span> <span class="c1">// [2]</span>
</span><span class='line'>    <span class="kt">int</span> <span class="nf">id</span><span class="o">();</span> <span class="c1">// [3]</span>
</span><span class='line'>    <span class="n">String</span> <span class="nf">description</span><span class="o">();</span>
</span><span class='line'>    <span class="n">String</span> <span class="nf">author</span><span class="o">()</span> <span class="k">default</span> <span class="s">&quot;[unknown]&quot;</span><span class="o">;</span> <span class="c1">// [4]</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><code>CustomAnnotation</code> has an annotation of its own! The <code>@Documented</code> annotation ensures that CustomAnnotation and its properties will be included in the Javadoc when it is generated.</li>
<li>Declare a new annotation using <code>@interface</code> instead of <code>interface</code></li>
<li>Fields <code>id</code> and <code>description</code> are considered required because they are not given default values. Values for <code>id</code> and <code>description</code> must be provided when using <code>@CustomAnnotation</code>.</li>
<li><code>author</code> is an unrequired field because a default value will be used if one is not provided.</li>
</ol>


<h4>Annotations for Annotations</h4>

<p>When defining an annotation, you can indicate how it should be used:</p>

<ul>
<li><code>@RetentionPolicy</code>: How should the annotation be stored? Only in source, included in the generated Class, or passed all the way to the JVM for Runtime evaluation?</li>
<li><code>@Documented</code>: Include the annotation when generating Javadocs (default is false).</li>
<li><code>@Target</code>: A list of locations where the annotation can be used (constructor, field, method, etc).</li>
<li><code>@Inherited</code>: The annotation properties can be inherited from the superclass.</li>
<li><code>@Repeatable</code>: The annotation can be used more than once (declaring multiple authors, for example).</li>
</ul>


<h2>Using your CustomAnnotation</h2>

<p>Use <code>@CustomAnnotation</code> to decorate your code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// src/Main.java</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">...</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@CustomAnnotation</span><span class="o">(</span><span class="n">id</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s">&quot;Custom description&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printSlogan</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;This method uses a @CustomAnnotation&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@CustomAnnotation</span><span class="o">(</span><span class="n">id</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s">&quot;Custom banner&quot;</span><span class="o">,</span> <span class="n">author</span> <span class="o">=</span> <span class="s">&quot;keighty&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printBanner</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;This is a printed banner for: &quot;</span> <span class="o">+</span> <span class="n">message</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>When you generate the javadoc for Main.class, the annotations will be included in the method descriptions:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">$</span>  <span class="n">javadoc</span> <span class="n">src</span><span class="o">/</span><span class="n">com</span><span class="o">/</span><span class="n">keighty</span><span class="o">/</span><span class="n">Main</span><span class="o">.</span><span class="na">java</span> <span class="o">-</span><span class="n">d</span> <span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/170108-annotations/javadoc_annotated.png"></p>

<h2>Annotating a field vs annotating a parameter</h2>

<p>There are no hard rules about whether one should annotate a field or a constructor parameter, but which ever you choose you should use that pattern consistently.</p>

<p><img src="/images/170108-annotations/nonnull_annotation.png"></p>

<p>If you use the <code>@Nonnull</code> annotation in the constructor, the compiler will warn if there is any use of the constructor where the parameter could be null. If you use the <code>@Nonnull</code> annotation on the field, you will have to do your own null checking when assigning the field.</p>

<h4>RESOURCES</h4>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/annotations/index.html">java tutorials</a></li>
<li><a href="http://crunchify.com/understanding-java-annotation-annotation-examples/">crunchify.com</a></li>
</ul>

</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2018

    katie leonard


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
