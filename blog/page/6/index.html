
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>keighty</title>
  <meta name="author" content="katie leonard">

  
  <meta name="description" content="Following along with Rails tutorial by Michael Hartl, I built a sample app with a simple database, linking users to microposts in a twitter-like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.katieleonard.ca/blog/page/6">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="keighty" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41587719-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">keighty</a></h1>
  
    <h2>a portfolio of sorts</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.katieleonard.ca" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/no-indexhtml-no-cry/">No index.html, No Cry</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-29T00:00:00-07:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/no-indexhtml-no-cry/#disqus_thread"
             data-disqus-identifier="http://www.katieleonard.ca/blog/2013/no-indexhtml-no-cry/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Following along with <a href="http://www.amazon.com/Ruby-Rails-Tutorial-Addison-Wesley-Professional/dp/0321832051">Rails tutorial</a> by Michael Hartl, I built a sample app with a simple database, linking users to microposts in a twitter-like manner. Everything worked well locally, but when it came time to deploy on heroku, I ran across some interesting stumbling blocks:</p>

<h3>Rails 4 does not come with a default index.html</h3>

<p>There I was, gleefully watching the slug compile on heroku (after several abortive attempts I realized I had not moved the sqlite3 gem into the development environment &mdash; heroku doesn&rsquo;t like that). All seemed fine, I typed</p>

<div>
  <pre><code class='java'>$ heroku open</code></pre>
</div>


<p>and what greeted me? A 404 error page! Something has gone horribly wrong! I have been rejected by heroku! I try again from the beginning, ensuring I have followed all the steps.. what could I have missed? Same result. But, Mr. Hartl, said it was easy&hellip; what was I missing?</p>

<p>After some digging, I found a <a href="https://devcenter.heroku.com/articles/rails4-getting-started">heroku tutorial</a> on getting started with the shiny new Rails 4. Deep inside this article, I found the magic words:</p>

<blockquote><p>&ldquo;Note: that Rails 4 no longer has a static index page in production, if youâ€™re using a new app, there may be no root page.&rdquo;</p></blockquote>

<p>Orly? Are you saying that the 404 error I was getting was actually generated by my properly deployed app? YES! I made some obvious change to the html</p>

<div>
  <pre><code class='html'>&lt;title&gt;You made it!&lt;/title&gt;</code></pre>
</div>


<p>and redeployed. TADA!</p>

<p>Awesome.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/hoisting-with-javascript/">Hoisting With JavaScript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-26T00:00:00-07:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/hoisting-with-javascript/#disqus_thread"
             data-disqus-identifier="http://www.katieleonard.ca/blog/2013/hoisting-with-javascript/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am really enjoying <a href="http://www.amazon.com/Test-Driven-JavaScript-Development-Developers-Library/dp/0321683919">Test-Driven Development</a> by Christian Johansen</p>

<p>I picked up this little gem this morning as I was learning about functions and the various objects associated with them:</p>

<p>You CANNOT use function declarations in conditionals. Take this example:</p>

<div>
  <pre><code class='java'>if (String.prototype.trim) {
  function trim(str) {
    return str.trim();
  }
else {
  function trim(str){
    return str.replace(/^\s+|\s+$/g, &quot;&quot;);
  }
}</code></pre>
</div>


<p>What is wrong with that, you might ask? HOISTING! Both functions are hoisted up to the global variable before execution, which means that the second one always overwrites the first one.</p>

<p>This is a better method:</p>

<div>
  <pre><code class='java'>if(!String.prototype.trim) {
  String.prototype.trim = function trim() {
    return this.replace(/^\s+|\s+$/g, &quot;&quot;)
  }
}</code></pre>
</div>


<p>This way, we are not overwriting any browser-available Trim methods, we are declaring the method on the String.prototype, which means it is available to ALL strings in scope, AND we have named it so that it will be more visible in a stack trace in case something goes wrong.</p>

<p>AWESOME</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/javascript-has-spies/">Javascript Has Spies</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T00:00:00-07:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/javascript-has-spies/#disqus_thread"
             data-disqus-identifier="http://www.katieleonard.ca/blog/2013/javascript-has-spies/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Spies vs Mocks vs Stubs?</h2>

<p>We are covering testing frameworks at PCS this week,
 particularly Jasmine and Sinon.</p>

<p>Jasmine has a similar structure to RSpec:</p>

<div>
  <pre><code class='java'>describe(&quot;Class to describe&quot;, function() {
  it(&quot;should have some behavior&quot;. function() {
    //assertions
  });
});</code></pre>
</div>


<p>Also similar to RSpec, Jasmine allows you to spy on behavior.
 Using spies, I can watch a method call and collect information about it.</p>

<ul>
<li>Want to know if it was called?</li>
</ul>


<div>
  <pre><code class='java'>expect(method).toHaveBeenCalled()</code></pre>
</div>


<ul>
<li>Want to know how many times?</li>
</ul>


<div>
  <pre><code class='java'>expect(method.callCount).toEqual(3)</code></pre>
</div>


<ul>
<li>Want to know how it was called?</li>
</ul>


<div>
  <pre><code class='java'>expect(method).toHaveBeenCalledWith(args)</code></pre>
</div>


<p>For example:</p>

<div>
  <pre><code class='java'>describe( &quot;Spy on methods&quot;, function () {
  it( &quot;should watch calls to console&quot;, function () {
    var mySpy = spyOn(console, &quot;log&quot;);
    console.log(&quot;test1&quot;);
    console.log(&quot;test2&quot;);
    console.log(&quot;test3&quot;);

    expect(mySpy.callCount).toEqual(3);
  });
});</code></pre>
</div>


<p>Tomorrow, I conquer Stubs and Mocks!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/jquery-objects-vs-strings/">jQuery Objects vs Strings</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-19T00:00:00-07:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/jquery-objects-vs-strings/#disqus_thread"
             data-disqus-identifier="http://www.katieleonard.ca/blog/2013/jquery-objects-vs-strings/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Object blocker!!</h2>

<p>My pair was stuck for the longest time on the following code snip:</p>

<div>
  <pre><code class='javascript'>$(function(){
  var new_square = &#39;$(&lt;div class=&quot;square&quot;&gt;&lt;/div&gt;)&#39;;

  $(&#39;body&#39;).on(&#39;click&#39;,&#39;.square&#39;, function(){
    // var my_square = $(this);
    $(this).toggleClass(&#39;blue&#39;);

    b = $(new_square)
      .insertAfter(this);
    a = $(new_square)
      .insertBefore(this);
    b.toggleClass(&#39;blue&#39;);
    a.toggleClass(&#39;blue&#39;);
  });
});</code></pre>
</div>


<p> We expected out output to include three elements &mdash; the original square, one
 inserted after, and one inserted before. The output we were seeing included
 only two squares: the original one and the square inserted before. If
 we inverted the insert calls, we would see only one inserted after. We
 were totally stumped until we printed out the content of new_square:
 <div>
  <pre><code class='javascript'>$(&#39;&lt;div class=&quot;square&quot;&gt;&lt;/div&gt;&#39;);</code></pre>
</div></p>

<p> We were actually passing a reference to a jQuery OBJECT into the insert methods,
 so in essence, we were creating the object once and then passing it around to
 different locations. When we changed new_square from a jQuery object:
 <div>
  <pre><code class='javascript'>var new_square = &#39;$(&lt;div class=&quot;square&quot;&gt;&lt;/div&gt;)&#39;;</code></pre>
</div></p>

<p> to a string
 <div>
  <pre><code class='javascript'>var new_square = &#39;&lt;div class=&quot;square&quot;&gt;&lt;/div&gt;&#39;;</code></pre>
</div></p>

<p> We saw our third element appear no problem.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/solving-namespace-conflicts-with-jquery/">Namespaces and jQuery</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-18T00:00:00-07:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/solving-namespace-conflicts-with-jquery/#disqus_thread"
             data-disqus-identifier="http://www.katieleonard.ca/blog/2013/solving-namespace-conflicts-with-jquery/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Namespaces in jQuery getting you down?</h3>

<p>Chuck taught me a great trick today &mdash; how to avoid namespace
conflicts in jQuery:</p>

<div>
  <pre><code class='javascript'>(function($){
...
})(jQuery);</code></pre>
</div>


<p>This function is being passed jQuery as an argument, and is
assigning it the local variable $ &mdash; allowing you to use
the $ and reference the jQuery library.</p>

<p>Awesome.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/factoring-in-nests/">Factoring in Nests</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/partial-to-ajax/">Partial to Ajax</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/meatier-apps-with-meteor/">Meatier Apps With Meteor</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/rails-depends-on-javascript/">Rails, You Can Depend on Javascript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/ruby-execution/">Ruby Execution</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/keighty">@keighty</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'keighty',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - katie leonard -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'keightyleonard';
      
        
        var disqus_script = 'count.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41587719-1', 'katieleonard.ca');
  ga('send', 'pageview');

</script>


</body>
</html>
