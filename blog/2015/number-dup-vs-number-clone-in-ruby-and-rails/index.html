
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>#dup vs #clone in Ruby and Rails - keighty</title>
  <meta name="author" content="katie leonard">

  
  <meta name="description" content="I was recently fixing a failing test and discovered that Ruby and Rails implement #clone and #dup in confusing and occasionally opposite ways. In &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.katieleonard.ca/blog/2015/number-dup-vs-number-clone-in-ruby-and-rails">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="keighty" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41587719-1', 'auto');
  ga('send', 'pageview');

</script>



</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">keighty</a></h1>
  
    <h2>reading, writing, rambling</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.katieleonard.ca" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects/index.html">Projects</a></li>
  <li><a href="/reads/index.html">Reads</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">#dup vs #clone in Ruby and Rails</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-10T00:00:00-08:00" pubdate data-updated="true">Jan 10<span>th</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I was recently fixing a failing test and discovered that Ruby and Rails implement <code>#clone</code> and <code>#dup</code> in confusing and occasionally opposite ways.</p>

<!--more-->


<h3>In Rails <code>#clone</code> is a less complete copy of an object than <code>#dup</code></h3>

<p>Rails versions have flip-flopped on how to implement <code>#clone</code> and <code>#dup</code>, and there is ambiguity in how Rails defines &ldquo;shallow&rdquo;. In Rails 4.0, <a href="https://github.com/rails/rails/blob/4-0-stable/activerecord/lib/active_record/core.rb#L217-L220"><code>#clone</code> is a shallow copy</a> of an ActiveRecord object. &ldquo;Shallow&rdquo; in this context means that the <code>clone</code> shares attributes with the <code>original</code>:</p>

<blockquote><p>Identical to Ruby&rsquo;s clone method.  This is a &ldquo;shallow&rdquo; copy.  Be warned that your attributes are not copied. That means that modifying attributes of the clone will modify the original, since they will both point to the same attributes hash. If you need a copy of your attributes hash, please use the #dup method.</p></blockquote>

<p>However, <a href="https://github.com/rails/rails/blob/4-0-stable/activerecord/lib/active_record/core.rb#L234-L240"><code>#dup</code> is also described as a shallow copy</a>. &ldquo;Shallow&rdquo; in this context means that while the dup does not share attributes with the original, it does share associations.</p>

<blockquote><p>Duped objects have no id assigned and are treated as new records. Note that this is a &ldquo;shallow&rdquo; copy as it copies the object&rsquo;s attributes only, not its associations. The extent of a &ldquo;deep&rdquo; copy is application specific and is therefore left to the application to implement according to its need.</p></blockquote>

<h4><code>clone</code> vs <code>dup</code> in Rails:</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>pry&gt; <span class="nv">original</span> <span class="o">=</span> User.find<span class="o">(</span>3<span class="o">)</span>
</span><span class='line'>  User Load <span class="o">(</span>0.7ms<span class="o">)</span>  SELECT  <span class="s2">&quot;users&quot;</span>.* FROM <span class="s2">&quot;users&quot;</span> WHERE <span class="s2">&quot;users&quot;</span>.<span class="s2">&quot;id&quot;</span> <span class="o">=</span> ? LIMIT 1  <span class="o">[[</span><span class="s2">&quot;id&quot;</span>, 3<span class="o">]]</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User id: 3, first_name: &quot;katie&quot;, last_name: &quot;leonard&quot;, email: nil, created_at: &quot;2015-01-10 17:37:00&quot;, updated_at: &quot;2015-01-10 17:37:00&quot;&gt;</span>
</span><span class='line'>
</span><span class='line'>pry&gt; <span class="nv">clone_copy</span> <span class="o">=</span> original.clone
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User id: 3, first_name: &quot;katie&quot;, last_name: &quot;leonard&quot;, email: nil, created_at: &quot;2015-01-10 17:37:00&quot;, updated_at: &quot;2015-01-10 17:37:00&quot;&gt;</span>
</span><span class='line'>
</span><span class='line'>pry&gt; <span class="nv">dup_copy</span> <span class="o">=</span> original.dup
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User id: nil, first_name: &quot;katie&quot;, last_name: &quot;leonard&quot;, email: nil, created_at: nil, updated_at: nil&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that the <code>clone_copy</code> is an exact copy of the original (same <code>user.id</code>) and the <code>dup_copy</code> is a new record (<code>user.id</code> = nil). Any changes made to the <code>clone_copy</code> will be changed in the <code>original</code>, but any changes to the <code>dup_copy</code> attributes will remain isolated.</p>

<h3>In Ruby <code>#clone</code> is a more complete copy of an object than <code>#dup</code></h3>

<p>With simple classes, <code>clone()</code> and <code>dup()</code> behave identically:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>irb&gt; class User
</span><span class='line'>irb&gt;   attr_accessor :first_name, :last_name, :email
</span><span class='line'>irb&gt;   def initialize<span class="o">(</span><span class="nv">options</span><span class="o">={})</span>
</span><span class='line'>irb&gt;     @first_name <span class="o">=</span> options<span class="o">[</span>:first_name<span class="o">]</span>
</span><span class='line'>irb&gt;     @last_name  <span class="o">=</span> options<span class="o">[</span>:last_name<span class="o">]</span>
</span><span class='line'>irb&gt;     @email      <span class="o">=</span> options<span class="o">[</span>:email<span class="o">]</span>
</span><span class='line'>irb&gt;   end
</span><span class='line'>irb&gt; <span class="nv">end</span>
</span><span class='line'><span class="o">=</span>&gt; :initialize
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">original</span> <span class="o">=</span> User.new<span class="o">(</span>first_name: <span class="s2">&quot;katie&quot;</span>, last_name: <span class="s2">&quot;leonard&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e98e0aa8 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">cloned_copy</span> <span class="o">=</span> original.clone
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e98c87c8 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">dup_copy</span> <span class="o">=</span> original.dup
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e98b24a0 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; cloned_copy.first_name <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;foo&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; original.first_name
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;katie&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; dup_copy.first_name
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;katie&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; dup_copy.first_name <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;bar&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; original.first_name
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;katie&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>clone()</code> and <code>dup()</code> function the same way!</p>

<p><code>clone()</code> from the <a href="http://ruby-doc.org/core-2.1.5/Object.html#method-i-clone">Ruby docs</a>:</p>

<blockquote><p>Produces a shallow copy of obj — the instance variables of obj are copied, but not the objects they reference. Copies the frozen and tainted state of obj. See also the discussion under Object#dup.</p></blockquote>

<p><code>dup()</code> from the <a href="http://ruby-doc.org/core-2.1.5/Object.html#method-i-dup">Ruby docs</a> looks suspiciously like the docs for <code>clone()</code>:</p>

<blockquote><p>Produces a shallow copy of obj — the instance variables of obj are copied, but not the objects they reference. dup copies the tainted state of obj. This method may have class-specific behavior. If so, that behavior will be documented under the #initialize_copy method of the class.</p></blockquote>

<p>This deserves further clarification:</p>

<blockquote><p>In general, clone and dup may have different semantics in descendant classes. While clone is used to duplicate an object, including its internal state, dup typically uses the class of the descendant object to create the new instance. When using dup any modules that the object has been extended with will not be copied.</p></blockquote>

<p>To paraphrase, <code>#dup</code> will act like <code>#clone</code>, but without the original&rsquo;s singleton class (ergo a &ldquo;shallower&rdquo; copy).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>irb&gt; class User
</span><span class='line'>irb&gt; attr_accessor :first_name, :last_name, :email
</span><span class='line'>irb&gt;   def initialize<span class="o">(</span><span class="nv">options</span><span class="o">={})</span>
</span><span class='line'>irb&gt;     @first_name <span class="o">=</span> options<span class="o">[</span>:first_name<span class="o">]</span>
</span><span class='line'>irb&gt;     @last_name  <span class="o">=</span> options<span class="o">[</span>:last_name<span class="o">]</span>
</span><span class='line'>irb&gt;     @email      <span class="o">=</span> options<span class="o">[</span>:email<span class="o">]</span>
</span><span class='line'>irb&gt;   end
</span><span class='line'>irb&gt; <span class="nv">end</span>
</span><span class='line'><span class="o">=</span>&gt; :initialize
</span><span class='line'>
</span><span class='line'>irb&gt; module Crunchy
</span><span class='line'>irb&gt;   def bacon
</span><span class='line'>irb&gt;     <span class="s2">&quot;bacon&quot;</span>
</span><span class='line'>irb&gt;   end
</span><span class='line'>irb&gt; <span class="nv">end</span>
</span><span class='line'><span class="o">=</span>&gt; :bacon
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">a</span> <span class="o">=</span> User.new<span class="o">(</span>first_name: <span class="s2">&quot;katie&quot;</span>, last_name: <span class="s2">&quot;leonard&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e8882490 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; a.extend<span class="o">(</span>Crunchy<span class="o">)</span>
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e8882490 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; a.bacon
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;bacon&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">b</span> <span class="o">=</span> a.clone
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e8843060 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; b.bacon
</span><span class='line'><span class="o">=</span>&gt; <span class="s2">&quot;bacon&quot;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; <span class="nv">c</span> <span class="o">=</span> a.dup
</span><span class='line'><span class="o">=</span>&gt; <span class="c">#&lt;User:0x007fd7e98f05c0 @first_name=&quot;katie&quot;, @last_name=&quot;leonard&quot;, @email=nil&gt;</span>
</span><span class='line'>
</span><span class='line'>irb&gt; c.bacon
</span><span class='line'>NoMethodError: undefined method <span class="sb">`</span>bacon<span class="s1">&#39; for #&lt;User:0x007fd7e98f05c0&gt;</span>
</span><span class='line'><span class="s1">        from (irb):101</span>
</span><span class='line'><span class="s1">        from /usr/local/var/rbenv/versions/2.1.5/bin/irb:11:in `&lt;main&gt;&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>There are subtle differences between <code>#clone</code> and <code>#dup</code> in Ruby, and less subtle differences in Rails (depending on your version). Take care that the object you want is the object you get.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">katie leonard</span></span>

      








  


<time datetime="2015-01-10T00:00:00-08:00" pubdate data-updated="true">Jan 10<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.katieleonard.ca/blog/2015/number-dup-vs-number-clone-in-ruby-and-rails/" data-via="KeightyLeonard" data-counturl="http://www.katieleonard.ca/blog/2015/number-dup-vs-number-clone-in-ruby-and-rails/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/cleaning-the-campground/" title="Previous Post: cleaning the campground">&laquo; cleaning the campground</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/objects-vs-data-structures/" title="Next Post: objects vs data structures">objects vs data structures &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <div class='contact'>
    <a href='mailto:keighty.leonard@gmail.com?Subject=Hello!' rel='tooltip' title='keighty.leonard@gmail.com'><i class="fa fa-envelope fa-3x"></i></a>
    <a href='http://twitter.com/KeightyLeonard' title='@KeightyLeonard'><i class="fa fa-twitter fa-3x"></i></a>
    <a href='http://github.com/keighty' title='github.com/keighty'><i class="fa fa-github fa-3x"></i></a>
    <a href='http://linkedin.com/in/katieleonard' title='linkedin/katieleonard'><i class="fa fa-linkedin fa-3x"></i></a>
  </div>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/what-is-it-like-to-be-a-programmer/">What's It Like to Be a Developer?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/exploring-the-stack/">Exploring the Stack</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/troubleshooting-nested-scopes-in-angular/">Troubleshooting Nested Scopes in Angular</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/more-git-goodies/">More Git Goodies</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/bird-by-bird/">Bird by Bird</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'keighty',
            count: 4,
            skip_forks: true,
            skip_repos: [ "keighty.github.io" ],
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <div>
    <h1>Aboot me</h1>
    <p>I have loved programming since my first "Hello World!", and have been seeking source code enlightenment through Java, Ruby, Rails, and JavaScript. I am also a recent immigrant to Portland, Oregon - perhaps you can tell from my Canadian accent?</p>
  </div>
</section>


<section class="well">
  <h1><a href="http://coderwall.com/keighty">@keighty</a> on Coderwall</h1>

  <div id="coderwall_badges"></div>

  <script type="text/javascript">
    $(document).ready(function(){
      $.getJSON("http://coderwall.com/keighty.json?callback=?", function(data){
        for(var i = 0; i < data.data.badges.length ; i++){
          var badge = data.data.badges[i];
          var description = badge.name + ":\n" + badge.description;
          var badge_tag = $("<img title='" + description + "'/>");
          badge_tag.attr("src",badge.badge);
          badge_tag.css("width","25%");
          $("#coderwall_badges").append(badge_tag);
        }
      });
    });
  </script>
</section>
 <section>
  <div>
    <h1>Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/KeightyLeonard" data-widget-id="434861084550262784">Tweets by @KeightyLeonard</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>
 </section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - katie leonard -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'keightyleonard';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.katieleonard.ca/blog/2015/number-dup-vs-number-clone-in-ruby-and-rails/';
        var disqus_url = 'http://www.katieleonard.ca/blog/2015/number-dup-vs-number-clone-in-ruby-and-rails/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41587719-1', 'katieleonard.ca');
  ga('send', 'pageview');

</script>


</body>
</html>
